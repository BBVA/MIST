command ping (ip) {
    exec "ping -c 1 {ip}" {
        input {
            ip <= ip
        }
        then {
            print "INNER RESULT IS:" result
            set result <= result
            set consoleOutput <= consoleOutput
        }
    }
    print "OUTER RESULT IS:" result
    expose result
    expose consoleOutput
}

call ping {
    input {
        ip <= "127.0.0.1"
    }
    then {
        print "CALLER RESULT IS" result
        print "OUTPUT IS:" consoleOutput
    }
}
